require:
  - rubocop-rails
  - rubocop-rspec

AllCops:
  NewCops: enable
  Exclude:
    # Automatically Generated by rails, so assuming correct
    - db/schema.rb
    - db/migrate/**
    - bin/**/*
    - storage/**/*
    - tmp/**/*
    - node_modules/**/*
    - vendor/bundle/**/*
# Rails automatically generates a lot of files, many of which fail the following
# rules. Enabling these rules means all of the automatically generated files
# need to be editited, and since rails doesn't stick to these rules lets disable them.

# https://github.com/rubocop-hq/rubocop/issues/4222
Lint/AmbiguousBlockAssociation:
  Exclude:
    - "**/spec/**/*"

Lint/ConstantDefinitionInBlock:
  Exclude:
    - "**/spec/**/*"
    - "config/initializers/**/*"

Style/FrozenStringLiteralComment:
  Enabled: false

Lint/MissingSuper:
  Enabled: false

Style/HashSyntax:
  Enabled: false

Style/StringLiterals:
  EnforcedStyle: double_quotes

Style/SymbolArray:
  EnforcedStyle: brackets

Style/BlockDelimiters:
  Exclude:
    - "**/spec/**/*"

Style/Lambda:
  EnforcedStyle: literal

Layout/LineLength:
  Max: 120
  AllowedPatterns: ['\A\s*#.*'] # Ignore comment lines

Metrics/MethodLength:
  Max: 15

Metrics/BlockLength:
  Exclude:
    - "**/spec/**/*"
    - "**/config/**/*"

Metrics/ParameterLists:
  CountKeywordArgs: false

Metrics/AbcSize:
  Max: 18

# The following cops were added to RuboCop, but are not configured.
# Please set Enabled to either `true` or `false` in your `.rubocop.yml` file:

Layout/EmptyLinesAroundAttributeAccessor:
  Enabled: true

Layout/SpaceAroundMethodCallOperator:
  Enabled: true

Layout/MultilineMethodCallIndentation:
  Enabled: true
  Exclude:
    - "**/spec/**/*"

Lint/SymbolConversion:
  EnforcedStyle: consistent
  Enabled: false

Lint/DeprecatedOpenSSLConstant:
  Enabled: true

Lint/RaiseException:
  Enabled: true

Lint/StructNewOverride:
  Enabled: true

Naming/VariableNumber:
  Enabled: false

Style/ExponentialNotation:
  Enabled: true

Style/FetchEnvVar:
  Enabled: false

Style/HashEachMethods:
  Enabled: true

Style/HashTransformKeys:
  Enabled: true

Style/HashTransformValues:
  Enabled: true

Style/SlicingWithRange:
  Enabled: true

Style/SafeNavigation:
  Enabled: false

Style/TrailingCommaInArrayLiteral:
  EnforcedStyleForMultiline: consistent_comma

Style/TrailingCommaInHashLiteral:
  EnforcedStyleForMultiline: consistent_comma

RSpec/SpecFilePathSuffix:
  Enabled: true

Migration/AddIndexConcurrently:
  Enabled: true

RSpec:
  Enabled: false

RSpec/Focus:
  Enabled: true

Rails:
  Enabled: false

Rails/Date:
  EnforcedStyle: flexible
  Enabled: true
